% This TeX code provides varoious kinds of character controls
% Caution, it is still under heave development


% Quote Kerning
% This is not complete. What we want is for this to be called from
% the setup file with a command that brings in the kerning amount.
% This will be easier to use and will allow for more automated control.
% It would be nice if we could have a command like: \kernquotes{0.1em}
% which would turn it on and set the amount. (more research needed)

% Define default kern amount
\newdimen\quotekernamount
\quotekernamount = 0pt

% Define quotes
\def\soq{^^^^2018}
\def\doq{^^^^201c}
\def\scq{^^^^2019}
\def\dcq{^^^^201d}
% Define kern values
\def\soqkern{\soq\kern\quotekernamount}
\def\doqkern{\doq\kern\quotekernamount}
\def\scqkern{\scq\kern\quotekernamount}
\def\dcqkern{\dcq\kern\quotekernamount}
% Combine values with characters
\def\soqnokern{\soq}
\def\doqnokern{\doq}
\def\scqnokern{\scq}
\def\dcqnokern{\dcq}
% Activate the search characters
\let\knext\relax
% Insert the kerned version
\def\soqtest{\ifx\knext^^^^201c\let\knext=\soqkern\else\let\knext=\soqnokern\fi\knext\let\knext\relax}
\def\doqtest{\ifx\knext^^^^2018\let\knext=\doqkern\else\let\knext=\doqnokern\fi\knext\let\knext\relax}
\def\scqtest{\ifx\knext^^^^201d\let\knext=\scqkern\else\let\knext=\scqnokern\fi\knext\let\knext\relax}
\def\dcqtest{\ifx\knext^^^^2019\let\knext=\dcqkern\else\let\knext=\dcqnokern\fi\knext\let\knext\relax}
\catcode"2018=\active \def^^^^2018{\futurelet\knext\soqtest}%
\catcode"201C=\active \def^^^^201c{\futurelet\knext\doqtest}%
\catcode"2019=\active \def^^^^2019{\futurelet\knext\scqtest}%
\catcode"201D=\active \def^^^^201d{\futurelet\knext\dcqtest}%
\def\liter@lkerns{\edef^^^^2018{\soq}\edef^^^^201c{\doq}\edef^^^^2019{\scq}\edef^^^^201d{\dcq}
\catcode"2018=12 \catcode"201C=12 \catcode"2019=12 \catcode"201D=12}
\def\sm@rtquotes{\catcode"2018=\active \catcode"201C=\active \catcode"2019=\active \catcode"201D=\active}
\sm@rtquotes


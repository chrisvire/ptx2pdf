% Test the 'hook' code.
\input "paratext2.tex"
\catcode`\@=11
%\addtoversehooks{\ifx\prev@rsemode\empty \endash\penalty5 \fi}
%\input "ptx-extended.tex"
%\input "ptxplus-marginalverses.tex"
\showboxdepth=99\showboxbreadth=99
\catcode`\@=12
\stylesheet{usfm_sb.sty}
\stylesheet{ptx2pdf.sty}
\stylesheet{default-custom.sty}
\stylesheet{test.sty}
%\tracing{sc}
%\tracing{sC}
%\tracing{C}
%\tracing{e}
%\tracing{A}
%\tracing{m}
%\tracing{eb}
\tracing{c}
\tracing{s}
%\tracing{g}
\tracing{j}
\tracing{T}
\def\tmstart{\tracingmacros=0 \tracingassigns=1 \tracinggroups=1}
\def\tmstop{\tracingmacros=0 \tracingassigns=0 \tracinggroups=0}

%\tracingassigns=1
\categorysheet{mycats.sty}
\unbalancedfalse
%\unbalancedtrue
%\dimen\toprightins=13cm
%\StyleCategory{People}{
% \stylesheet{default-custom.sty}
% \stylesheet{usfm.sty}
%}
\input "usfmTex-settings.tex"

%\input "usfmTex-ext.tex"
%\input "hooks.tex"
% Set added material in desired form
\def\addmtlquteht{2pt}
\def\addmtlqutewd{1.5pt}
\def\addmtlqutelw{0.2pt}
\def\beginadd{\lower 1pt \hbox{\vrule width \addmtlqutelw height \addmtlquteht\vrule width \addmtlqutewd height \addmtlqutelw}\kern -1pt}
\def\endadd{\kern -1pt \lower 1pt \hbox{\vrule width \addmtlqutewd height \addmtlqutelw\vrule width \addmtlqutelw height \addmtlquteht}}
\def\RHoddcenter{\timestamp}
\def\RHoddleft{\isodate}
%\sethook{before}{m}{\dimen1=\prevdepth\message{TEST: \the\dimen1}\kern-\dimen1\vbox to 0pt{\vskip 0.5pt\hrule width 10em height 0.0pt depth 0.5pt}\vskip 0pt}
%\sethook{after}{m}{\kern .5pt \hrule width 10em height .2pt \kern 1pt \hrule width 10em height .2pt}
%\sethook{start}{m}{\beginadd\beginadd}
%\sethook{end}{m}{\endadd\endadd}
\sethook{before}{add}{|}
\sethook{after}{add}{|}
\sethook{start}{add}{\beginadd}
\sethook{end}{add}{\endadd}
\sethook{start}{cat:foo|cat}{}
\sethook{end}{cat:foo|cat}{foo_hook>>}
\csname ColorFontstrue\endcsname
%\tracinggroups=1
\relax
\addtrigger{ms:zvar=test}{Jesus is the Word}
\ptxfile{test.usfm}
\bye
